(window.webpackJsonp=window.webpackJsonp||[]).push([[224],{584:function(t,e,i){"use strict";i.r(e);var r=i(1),s=Object(r.a)({},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[i("h1",{attrs:{id:"确保-web-安全的-https"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#确保-web-安全的-https"}},[t._v("#")]),t._v(" 确保 Web 安全的 HTTPS")]),t._v(" "),i("h2",{attrs:{id:"http-的缺点"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#http-的缺点"}},[t._v("#")]),t._v(" HTTP 的缺点")]),t._v(" "),i("ul",[i("li",[t._v("通信使用明文（不加密），内容可能会被窃听；")]),t._v(" "),i("li",[t._v("不验证通信方的身份，因此有可能遭遇伪装；")]),t._v(" "),i("li",[t._v("无法证明报文的完整性，所以有可能已遭到篡改。")])]),t._v(" "),i("h2",{attrs:{id:"http-加密-认证-完整性保护-https"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#http-加密-认证-完整性保护-https"}},[t._v("#")]),t._v(" HTTP + 加密 + 认证 + 完整性保护 = HTTPS")]),t._v(" "),i("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/3/13/1621e18a22a107c7?imageView2/0/w/1280/h/960/format/webp/ignore-error/1"}}),t._v(" "),i("ul",[i("li",[i("p",[t._v("客户端通过发送 Client Hello 报文开始 SSL 通信，报文中包含客户端支持的 SSL 的指定版本、加密组件（Cipher Suite）列表（所使用的加密算法及密钥长度等）；")])]),t._v(" "),i("li",[i("p",[t._v("服务器可进行 SSL 通信时，会以 Server Hello 报文作为应答，和客户端一样，在报文中包含 SSL 版本及加密组件。服务器的加密组件内容是从接收到的客户端加密组件内筛选出来的；")])]),t._v(" "),i("li",[i("p",[t._v("之后服务器发送 Certificate 报文，报文中包含公开密钥证书；")])]),t._v(" "),i("li",[i("p",[t._v("最后服务器发送 Server Hello Done 报文通知客户端，最初阶段的 SSL 握手协商部分结束；")])]),t._v(" "),i("li",[i("p",[t._v("SSL 第一次握手结束后，客户端以 Client Key Exchange 报文作为应答，报文中包含通信加密中使用的一种被称为 Pre-mastersecret 的随机密码串，该报文已用步骤 3 中的公开密钥进行加密；")])]),t._v(" "),i("li",[i("p",[t._v("接着客户端继续发送 Change Cipher Spec 报文，该报文会提示服务器，在此报文之后的通信会采用 Pre-master secret 密钥进行加密；")])]),t._v(" "),i("li",[i("p",[t._v("客户端发送 Finished 报文，该报文包含链接至今全部报文的整体校验值，这次握手协商是否能够成功，要以服务器是否能够正确解密该报文作为判定标准；")])]),t._v(" "),i("li",[i("p",[t._v("服务器同样发送 Change Cipher Spec 报文；")])]),t._v(" "),i("li",[i("p",[t._v("服务器同样发送 Finished 报文；")])]),t._v(" "),i("li",[i("p",[t._v("服务器和客户端的 Finshed 报文交换完毕后，SSL 连接就算建立完成。当然，通信会受到 SSL 的保护，从此处开始进行应用层协议的通信，即发送 HTTP 请求；")])]),t._v(" "),i("li",[i("p",[t._v("应用层协议通信，即发送 HTTP 响应；")])]),t._v(" "),i("li",[i("p",[t._v("最后由客户端断开连接，断开连接时，发送 close_notify 报文，上图做了一些省略，这步之后再发送 TCP FIN 报文来关闭与 TCP 的通信；")])])])])}),[],!1,null,null,null);e.default=s.exports}}]);